#include <button.h>
#include <pico/cyw43_arch.h>
#include <pico/unique_id.h>
#include <screen.h>
#include <ui/widgets/label.h>

#define FOREVER while (1)

// TODO: move this into a file
// TODO: move font into a file aswell lol
#define WORDS_COUNT 1067
const char *words[WORDS_COUNT] = {
    "aardvark",
    "aardwolf",
    "abyssinian",
    "achernar",
    "acinonyx",
    "acoustic",
    "acrux",
    "adal",
    "adelie",
    "adhara",
    "aegean",
    "aeolian",
    "afrino",
    "agama",
    "ainu",
    "airplane",
    "akita",
    "alai",
    "albacore",
    "aldebaran",
    "alewife",
    "algieba",
    "algol",
    "alhena",
    "alioth",
    "alkaid",
    "alkaline",
    "alligator",
    "allosaurus",
    "alnair",
    "alnilam",
    "alnitak",
    "alpaca",
    "alpha",
    "alphard",
    "alpheratz",
    "alpine",
    "alpines",
    "alsephina",
    "altair",
    "altered",
    "amarok",
    "amberjack",
    "anaconda",
    "anchovy",
    "ancon",
    "angelfish",
    "angler",
    "angora",
    "anhinga",
    "anoa",
    "anoles",
    "antares",
    "anteater",
    "antelope",
    "appaloosa",
    "arctic",
    "arcturus",
    "armadillo",
    "arowana",
    "artichoke",
    "astrapia",
    "asymptote",
    "at",
    "atlas",
    "atria",
    "augmented",
    "auroch",
    "auxois",
    "avior",
    "axolotl",
    "ayu",
    "azules",
    "badger",
    "bagrid",
    "baiji",
    "balance",
    "balinese",
    "bambino",
    "banana",
    "banded",
    "bandicoot",
    "banfish",
    "bangus",
    "banjo",
    "banteng",
    "barb",
    "barbel",
    "barking",
    "barley",
    "barn",
    "barometric",
    "barracuda",
    "barred",
    "barreleye",
    "baryonyx",
    "basa",
    "basilisk",
    "basking",
    "bass",
    "bat",
    "batfish",
    "beagle",
    "beago",
    "bear",
    "bearded",
    "beardie",
    "beaufort",
    "beaver",
    "bebop",
    "becrux",
    "bee",
    "beefalo",
    "beetal",
    "bellatrix",
    "beluga",
    "bengal",
    "berylline",
    "beta",
    "betelgeuse",
    "betta",
    "bettong",
    "bichir",
    "bicolor",
    "bicorn",
    "bigeye",
    "bigscale",
    "bilberry",
    "bilby",
    "billfish",
    "binturong",
    "birman",
    "bishop",
    "bison",
    "bitterling",
    "bittern",
    "bleak",
    "blenny",
    "blowfish",
    "blue",
    "bluebuck",
    "bluegill",
    "blues",
    "boa",
    "bobcat",
    "bobtail",
    "boga",
    "bombay",
    "bone",
    "bonito",
    "bonobo",
    "bonytongue",
    "bopp",
    "border",
    "boreal",
    "boreray",
    "borrelly",
    "bortle",
    "boston",
    "bowfin",
    "braid",
    "bramble",
    "bream",
    "brill",
    "broadbill",
    "broadnose",
    "brolga",
    "brotula",
    "brown",
    "brumby",
    "buffalo",
    "bull",
    "bullhead",
    "bumblebee",
    "bun",
    "bunny",
    "burbot",
    "buri",
    "burmese",
    "burmilla",
    "burro",
    "buru",
    "bushbaby",
    "bushi",
    "butterfly",
    "byzantine",
    "caiman",
    "calliope",
    "cama",
    "camel",
    "canopus",
    "capella",
    "capybara",
    "caracal",
    "caracara",
    "carat",
    "cardassian",
    "carob",
    "carp",
    "cassowary",
    "castor",
    "cat",
    "catfish",
    "catla",
    "caudal",
    "celsius",
    "census",
    "centaur",
    "centauri",
    "cerberus",
    "cetacean",
    "chaco",
    "chameleon",
    "chantilly",
    "char",
    "chartreux",
    "chausie",
    "cheetah",
    "cheetoh",
    "cherimoya",
    "chestnut",
    "cheviot",
    "chickadee",
    "chicken",
    "chihuahua",
    "chimaera",
    "chimera",
    "chimp",
    "chinstrap",
    "chipmunk",
    "chocolate",
    "chromatic",
    "chronicle",
    "chuckwalla",
    "churra",
    "cichlid",
    "cinnamon",
    "cinnebar",
    "cirius",
    "city",
    "civet",
    "cliff",
    "climb",
    "cloud",
    "clouded",
    "cloudforest",
    "clownfish",
    "coat",
    "coati",
    "coatimundi",
    "cobbler",
    "cobia",
    "cobra",
    "cockatoo",
    "cod",
    "codlet",
    "coelacanth",
    "coho",
    "coin",
    "collie",
    "colobus",
    "comet",
    "company",
    "cordylus",
    "corgi",
    "cormo",
    "cormorant",
    "corn",
    "corvus",
    "cosmological",
    "cougar",
    "court",
    "cow",
    "coydog",
    "coyote",
    "coywolf",
    "crane",
    "crayfish",
    "crested",
    "crocodile",
    "ctesias",
    "curl",
    "curlew",
    "cuscus",
    "cusimanse",
    "cuttlefish",
    "cymric",
    "cyprus",
    "dab",
    "dace",
    "dachshund",
    "daggertooth",
    "dala",
    "danio",
    "darter",
    "decibel",
    "deer",
    "degree",
    "degu",
    "delta",
    "deneb",
    "denebola",
    "desmana",
    "dhole",
    "diatonic",
    "diminished",
    "dingo",
    "dinosaur",
    "diphda",
    "diplodocus",
    "discus",
    "dog",
    "dohne",
    "dojo",
    "dolly",
    "dolphin",
    "dominant",
    "donkey",
    "donskoy",
    "dorado",
    "dorian",
    "dorper",
    "dory",
    "dove",
    "draconis",
    "dragon",
    "dragonfish",
    "drake",
    "drongo",
    "dropbear",
    "drum",
    "dubhe",
    "duck",
    "duckbill",
    "dunker",
    "dusky",
    "dwelf",
    "dymecodon",
    "dzo",
    "eagle",
    "echidna",
    "echo",
    "economy",
    "edmontosaurus",
    "eel",
    "egret",
    "eland",
    "elephant",
    "elevator",
    "elf",
    "elk",
    "elnath",
    "elver",
    "emerald",
    "emperor",
    "emu",
    "encke",
    "end",
    "enigmatic",
    "equalacorn",
    "ermine",
    "escalator",
    "euplectes",
    "everest",
    "ewe",
    "exocomet",
    "exponential",
    "fable",
    "fahrenheit",
    "fairy",
    "falcon",
    "faun",
    "fawn",
    "featherback",
    "feist",
    "felis",
    "fell",
    "fence",
    "fenrir",
    "ferret",
    "fin",
    "finch",
    "fiordland",
    "fir",
    "firefighter",
    "fish",
    "flamingo",
    "flicker",
    "flounder",
    "fluffy",
    "flyingfox",
    "fold",
    "folk",
    "follow",
    "fomalhaut",
    "forel",
    "forest",
    "fort",
    "fossa",
    "fox",
    "foxhound",
    "freygish",
    "frog",
    "fujita",
    "fynbos",
    "gacrux",
    "galago",
    "galaxy",
    "gamma",
    "gannet",
    "gar",
    "garibaldi",
    "gate",
    "gaur",
    "gazella",
    "gazelle",
    "gecko",
    "geep",
    "gemsbok",
    "genet",
    "gentoo",
    "geological",
    "gerbil",
    "ghost",
    "ghoul",
    "gibbon",
    "gila",
    "giraffa",
    "giraffe",
    "girgentana",
    "glyptodon",
    "goanna",
    "goat",
    "goblin",
    "goby",
    "godzilla",
    "golden",
    "goldeye",
    "gondola",
    "goose",
    "gopher",
    "gorgon",
    "gourami",
    "gray",
    "grayling",
    "great",
    "greyhound",
    "griffin",
    "grolar",
    "grouse",
    "grue",
    "guineafowl",
    "gumiho",
    "gute",
    "hadar",
    "haddock",
    "hair",
    "hake",
    "hale",
    "halfbeak",
    "halfmoon",
    "halibut",
    "halley",
    "halosaur",
    "hamal",
    "hamlet",
    "hammerhead",
    "hamster",
    "han",
    "hare",
    "harmonic",
    "hartebeest",
    "hartley",
    "hawk",
    "hedgehog",
    "hen",
    "heptatonic",
    "heron",
    "herring",
    "hexatonic",
    "himalayan",
    "hinny",
    "hippo",
    "hippocampus",
    "hippogriff",
    "hippogryph",
    "hirajoshi",
    "hoki",
    "hops",
    "hornbill",
    "horse",
    "hound",
    "huchen",
    "humboldt",
    "hummingbird",
    "humpback",
    "husky",
    "hyakutake",
    "hydra",
    "hyena",
    "hyrax",
    "ibex",
    "ibis",
    "icefish",
    "ide",
    "iguana",
    "iguanodon",
    "ilish",
    "in",
    "inanga",
    "inconnu",
    "insen",
    "interval",
    "ionian",
    "ison",
    "istrian",
    "iwato",
    "jackal",
    "jackalope",
    "jacob",
    "jaglion",
    "jaguar",
    "jamnapari",
    "java",
    "javanese",
    "jay",
    "jazz",
    "jerboa",
    "junco",
    "justice",
    "justitia",
    "kamori",
    "kangaroo",
    "kanyu",
    "karat",
    "kardashev",
    "kelvin",
    "kettle",
    "kiko",
    "king",
    "kingfisher",
    "kinkajou",
    "kitchen",
    "kite",
    "kitefin",
    "kitty",
    "koala",
    "kochab",
    "koi",
    "kokanee",
    "kokanue",
    "komodo",
    "kooka",
    "korat",
    "kudu",
    "ladon",
    "lake",
    "lamancha",
    "lamb",
    "laperm",
    "larch",
    "latxa",
    "leaffish",
    "lemming",
    "lemur",
    "lenok",
    "leo",
    "leopard",
    "leopon",
    "levkoy",
    "li",
    "liberty",
    "liger",
    "likert",
    "lime",
    "ling",
    "lion",
    "lionfish",
    "little",
    "lizard",
    "llama",
    "lleyn",
    "lobster",
    "locrian",
    "logarithm",
    "long",
    "longhair",
    "lonk",
    "lorikeet",
    "lungfish",
    "lydian",
    "lykoi",
    "lynx",
    "lyrebird",
    "macaque",
    "macaroni",
    "macaw",
    "mackarel",
    "magellanic",
    "magpie",
    "mahi",
    "major",
    "mamba",
    "mammoth",
    "mammut",
    "manakin",
    "manatee",
    "manee",
    "mango",
    "manta",
    "manticore",
    "manx",
    "map",
    "mara",
    "mark",
    "marlin",
    "marmoset",
    "massometer",
    "mastodon",
    "matrix",
    "mau",
    "meerkat",
    "mellori",
    "menkalinan",
    "menkent",
    "mercat",
    "merino",
    "mermaid",
    "meteor",
    "miaplacidus",
    "micro",
    "miku",
    "mimosa",
    "mine",
    "mining",
    "mink",
    "minmi",
    "minnow",
    "minor",
    "minotaur",
    "minskin",
    "mintaka",
    "minuet",
    "mirach",
    "mirfak",
    "mirzam",
    "mist",
    "mixolydian",
    "mizar",
    "mogera",
    "mohs",
    "mole",
    "monitor",
    "monkey",
    "monster",
    "mooneye",
    "moose",
    "mora",
    "moray",
    "morpho",
    "morray",
    "moth",
    "motmot",
    "mountain",
    "mouse",
    "mudpuppy",
    "mudskipper",
    "mulard",
    "mule",
    "mullet",
    "mulley",
    "munchkin",
    "muridae",
    "musical",
    "muskellunge",
    "myth",
    "napoleon",
    "narluga",
    "narwhal",
    "nase",
    "nebelung",
    "nebulosa",
    "neko",
    "neofelis",
    "neon",
    "nessie",
    "neurotrichini",
    "newton",
    "nilgiri",
    "nominal",
    "noodlefish",
    "note",
    "notothen",
    "nunki",
    "nuthatch",
    "nyala",
    "oberhasli",
    "ocelot",
    "ocicat",
    "octatonic",
    "ojos",
    "onca",
    "opah",
    "opaleye",
    "opossum",
    "oratrice",
    "orca",
    "ordinal",
    "orfe",
    "orkhon",
    "orthrus",
    "oryx",
    "osiris",
    "ostrich",
    "otter",
    "owl",
    "pain",
    "palermo",
    "pancake",
    "panda",
    "panga",
    "pangolin",
    "panther",
    "panthera",
    "paradise",
    "pardus",
    "paridae",
    "parore",
    "parrot",
    "pauling",
    "peacock",
    "peafowl",
    "pegasus",
    "pence",
    "penguin",
    "penny",
    "pentatonic",
    "perch",
    "persian",
    "ph",
    "pheasant",
    "phoenix",
    "phrygian",
    "piano",
    "piarucu",
    "pickerel",
    "pierce",
    "pig",
    "pigeon",
    "pike",
    "pineapplefish",
    "pinecone",
    "pinscher",
    "pinto",
    "pipefish",
    "piranha",
    "pirarucu",
    "pirate",
    "pitta",
    "pixiebob",
    "pizzly",
    "platy",
    "platypus",
    "pleco",
    "pogona",
    "poitou",
    "polaris",
    "polecat",
    "pollux",
    "polydactyl",
    "pomfret",
    "pompano",
    "pony",
    "porbeagle",
    "porcupine",
    "porgy",
    "porpoise",
    "possum",
    "potoroo",
    "pound",
    "powan",
    "prairiedog",
    "prawn",
    "procyon",
    "prometheus",
    "pufferfish",
    "puffin",
    "pug",
    "puma",
    "pumapard",
    "pumpkinseed",
    "pygmy",
    "pygora",
    "pyruvate",
    "pythagorean",
    "python",
    "qilin",
    "quagga",
    "quail",
    "quaver",
    "quetzal",
    "queue",
    "quillback",
    "quokka",
    "quoll",
    "raccoon",
    "ragamuffin",
    "ragdoll",
    "rankine",
    "raptor",
    "rat",
    "ratfish",
    "ratio",
    "rattlesnake",
    "raven",
    "ray",
    "reedfish",
    "regulus",
    "reindeer",
    "reverse",
    "rex",
    "rhino",
    "rhinoceros",
    "ribbon",
    "richter",
    "ridgehead",
    "rigel",
    "risk",
    "roach",
    "robin",
    "roborovski",
    "rockhopper",
    "rohu",
    "rooster",
    "rove",
    "royal",
    "rudd",
    "ruffe",
    "rufous",
    "ruler",
    "rya",
    "saanen",
    "sable",
    "saga",
    "saiga",
    "sailfin",
    "sailfish",
    "saiph",
    "salak",
    "salamander",
    "salary",
    "salmon",
    "saola",
    "sapsucker",
    "sardine",
    "sargas",
    "sargo",
    "saurolophus",
    "saury",
    "savannah",
    "scala",
    "scaptonyx",
    "scorpion",
    "scoville",
    "scylla",
    "seagull",
    "seahorse",
    "searobin",
    "serengeti",
    "serval",
    "shad",
    "shark",
    "shaula",
    "sheep",
    "shetland",
    "shilling",
    "shire",
    "shorthair",
    "shrew",
    "shrimp",
    "siamese",
    "siberian",
    "sidemirror",
    "silverside",
    "singapura",
    "siren",
    "sirius",
    "skate",
    "skilift",
    "skink",
    "skunk",
    "smelt",
    "smoot",
    "snake",
    "snakebird",
    "snapper",
    "snares",
    "snow",
    "snowfinch",
    "snowshoe",
    "snowy",
    "soay",
    "softshell",
    "sokoke",
    "solarflare",
    "sole",
    "solfege",
    "solfeggio",
    "spanador",
    "spangled",
    "spaniel",
    "sparidae",
    "sparrow",
    "sphinx",
    "sphynx",
    "spica",
    "spitz",
    "spotted",
    "springbok",
    "springhare",
    "squeaker",
    "squirrel",
    "stairs",
    "stalk",
    "stargazer",
    "starling",
    "stegosaurus",
    "stern",
    "stingray",
    "stoat",
    "stomatopod",
    "stonecat",
    "stork",
    "story",
    "sturgeon",
    "sun",
    "sunfish",
    "sungrazer",
    "sungrazing",
    "swallow",
    "swordfish",
    "symmetric",
    "tabby",
    "tadpole",
    "tahr",
    "tailor",
    "tails",
    "taimen",
    "takaya",
    "tale",
    "talpa",
    "talpidae",
    "tamandua",
    "tamarin",
    "tanuki",
    "tapir",
    "tarpan",
    "tarpon",
    "tautara",
    "tawny",
    "tayra",
    "teeth",
    "tegu",
    "tegus",
    "tempel",
    "temperature",
    "tenrec",
    "terrier",
    "tet",
    "tetra",
    "themis",
    "theropod",
    "thrush",
    "tiaki",
    "tiffany",
    "tiger",
    "tigon",
    "tigris",
    "tilapia",
    "time",
    "tiyanki",
    "toad",
    "tone",
    "tonkinese",
    "torino",
    "tortoise",
    "toyger",
    "trench",
    "trex",
    "triceratops",
    "tritone",
    "troodon",
    "trout",
    "truck",
    "tuatara",
    "tucuxi",
    "tuna",
    "turkey",
    "turtle",
    "tuxedo",
    "twin",
    "typhon",
    "tyrannosaurus",
    "uaru",
    "ule",
    "ulmer",
    "unicorn",
    "universe",
    "uropsilus",
    "ussuri",
    "van",
    "vaquita",
    "vector",
    "vega",
    "velociraptor",
    "vernier",
    "vibe",
    "vibes",
    "vimba",
    "violetear",
    "vulture",
    "wage",
    "wahoo",
    "wall",
    "wallaby",
    "walleye",
    "walrus",
    "wampus",
    "warbler",
    "warg",
    "warthog",
    "weasel",
    "welara",
    "werewolf",
    "west",
    "wezen",
    "whale",
    "wholphin",
    "whydah",
    "wild",
    "wildebeest",
    "wind",
    "wirehair",
    "wisent",
    "wolf",
    "wombat",
    "woodpecker",
    "worm",
    "wyrm",
    "wyvern",
    "xalda",
    "xantu",
    "xerus",
    "yak",
    "yakalo",
    "yattle",
    "yo",
    "zapus",
    "zebra",
    "zebroid",
    "zebu",
    "zeedonk",
    "zonkey",
    "zorilla",
    "zorse",
    "zubron",
    "zuul",
};

void get_board_name(char *name_out) {
  pico_unique_board_id_t id;
  pico_get_unique_board_id(&id);

  uint32_t idx_one =
      (id.id[0] << 24) | (id.id[1] << 16) | (id.id[2] << 8) | id.id[3];
  uint32_t idx_two =
      (id.id[4] << 24) | (id.id[5] << 16) | (id.id[6] << 8) | id.id[7];

  const char *one = words[idx_one % WORDS_COUNT];
  const char *two = words[idx_two % WORDS_COUNT];

  snprintf(name_out, 32, "%s%s", one, two);
}

int main() {
  Button button = Button(L_LEFT);
  Screen screen = Screen();
  screen.set_backlight(true);

  char name[32];
  get_board_name(name);

  LabelWidget helloLabel = LabelWidget(&screen, "Hello, World!");
  LabelWidget nameLabel = LabelWidget(&screen, name);

  FOREVER {
    screen.blit();
    screen.draw_flood(RGB(0, 0, 0));

    if (button.is_pressed())
      nameLabel.blit();
    else
      helloLabel.blit();
  }
}
